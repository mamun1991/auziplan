

<!-- ===============================================-->
<!--    Table 1 one-time Costs Content-->
<!-- ===============================================-->


    <div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost" style='margin-top: 16px;'>
        <div id="tableExample2" data-list='{"page":1,"pagination":true}'>
            <div class="table-responsive scrollbar">
                <div class="fixTableHead">
                <table id="table_one" class="table  table-striped fs--1 mb-0">
                <thead class="bg-200 text-900">
                    <tr>
                        <th class="sort" data-sort="one_time_cost">One Time Cost</th>
                        <th class="sort" data-sort="description">Description</th>
                        <th class="sort" data-sort="amount_paid">Amount Paid</th>
                        <th class="sort" data-sort="total_cost">Total Cost</th>
                        <th >Action</th>
                    </tr>
                </thead>
                <tbody class="list">
                    <tr>
                        <td class="one_time_cost"></td>
                        <td class="description"></td>
                        <td class="amount_paid"></td>
                        <td class="total_cost"></td>
                        <td class="action"></td>
                    </tr>
                </tbody>
            </table>
                       
        </div>
    </div>
        <div class="d-flex justify-content-center mt-3 mb-2">
            <button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
            <ul class="pagination mb-0"></ul>
            <button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"> </span></button>
        </div>
    </div>
</div>


<!-- Old Table
<div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost">
    <div class="table-responsive">
        <table id="table_one" class="table">
            <thead class="table-light">
                <tr>
                    <th>One Time Cost</th>
                    <th>Description</th>
                    <th>Amount Paid</th>
                    <th>Total Cost</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>

            <tfoot class="table-light">
                <tr>
                    <th></th>
                    <th style="text-align: right;">Total</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
-->


<!-- ===============================================-->
<!--    Table 2 Land and Building Costs Content-->
<!-- ===============================================-->


    <div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost" style='margin-top: 16px;'>
        <div id="tableExample2" data-list='{"page":1,"pagination":true}'>
            <div class="table-responsive scrollbar">
                <div class="fixTableHead">
                <table id="table_one" class="table  table-striped fs--1 mb-0">
                <thead class="bg-200 text-900">
                    <tr>
                        <th class="sort" data-sort="property_description">Property Description</th>
                        <th class="sort" data-sort="purchase_date">Purchase Date</th>
                        <th class="sort" data-sort="purchase_price">Purchase Price</th>
                        <th class="sort" data-sort="land_value">Land Value </th>
                        <th class="sort" data-sort="building_depreciable_basis">Building (Depreciable basis):</th>
                        <th class="sort" data-sort="gst_vat">GST/VAT </th>
                        <th class="sort" data-sort="value_to_depreciate">Value To Depreciate</th>
                        <th class="sort" data-sort="useful_life_years">Useful Life(Year)</th>
                        <th class="sort" data-sort="monthly">Monthly </th>
                        <th class="sort" data-sort="year_1">Year 1 </th>
                        <th class="sort" data-sort="year_2">Year 2 </th>
                        <th class="sort" data-sort="year_3">Year 3 </th>
                        <th >Action</th>
                    </tr>
                </thead>
                <tbody class="list">
                    <tr>
                        <td class="property_description"></td>
                        <td class="purchase_date"></td>
                        <td class="purchase_price"></td>
                        <td class="land_value"></td>
                        <td class="building_depreciable_basis"></td>
                        <td class="gst_vat"></td>
                        <td class="value_to_depreciate"></td>
                        <td class="useful_life_years"></td>
                        <td class="monthly"></td>
                        <td class="year_1"></td>
                        <td class="year_2"></td>
                        <td class="year_3"></td>
                        <td class="action"></td>
                    </tr>
                </tbody>
            </table>
                       
        </div>
    </div>
        <div class="d-flex justify-content-center mt-3 mb-2">
            <button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
            <ul class="pagination mb-0"></ul>
            <button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"> </span></button>
        </div>
    </div>
</div>



<!-- old table

<div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost_land_buildings" style="display: none;">

        <table id="table_one_land_buildings" class="table max-width">
            <thead class="table-light">
                <tr>
                    <th>Property Description</th>
                    <th>Purchase Date</th>
                    <th>Purchase Price</th>
                    <th>Land Value</th>
                    <th>Building (Depreciable basis):</th>
                    <th>GST/VAT</th>
                    <th>Value To Depreciate</th>
                    <th>Useful Life(Year)</th>
                    <th>Monthly</th>
                    <th>Year 1</th>
                    <th>Year 2</th>
                    <th>Year 3</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>

            <tfoot class="table-light">
                <tr>
                    <th style="text-align: right;">Total</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                     
                </tr>
            </tfoot>
        </table>
</div>

-->


<!-- ===============================================-->
<!--    Table 3 Plant and Equipment Costs Content-->
<!-- ===============================================-->




    <div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost" style='margin-top: 16px;'>
        <div id="tableExample2" data-list='{"page":1,"pagination":true}'>
            <div class="table-responsive scrollbar">
                <div class="fixTableHead">
                <table id="table_one" class="table  table-striped fs--1 mb-0">
                <thead class="bg-200 text-900">
                    <tr>
                        <th class="sort" data-sort="asset_description">Asset Description</th>
                        <th class="sort" data-sort="qty">Qty</th>
                        <th class="sort" data-sort="acquisition_cost">Acquisition Cost</th>
                        <th class="sort" data-sort="total">Total</th>
                        <th class="sort" data-sort="gst">GST</th>
                        <th class="sort" data-sort="depreciation_method">Depreciation Method </th>        
                        <th class="sort" data-sort="useful_life_years">Useful Life(Year)</th>
                        <th class="sort" data-sort="salvage_value">Salvage Value</th>
                        <th class="sort" data-sort="monthly">Monthly </th>
                        <th class="sort" data-sort="year_1">Year 1 </th>
                        <th class="sort" data-sort="year_2">Year 2 </th>
                        <th class="sort" data-sort="year_3">Year 3 </th>
                        <th >Action</th>
                    </tr>
                </thead>
                <tbody class="list">
                    <tr>
                        <td class="asset_description"></td>
                        <td class="Qty"></td>
                        <td class="acquisition_cost"></td>
                        <td class="total"></td>
                        <td class="gst"></td>
                        <td class="depreciation_method"></td>
                        <td class="useful_life_years"></td>
                        <td class="sort" data-sort="salvage_value"></td>
                        <td class="monthly"></td>
                        <td class="year_1"></td>
                        <td class="year_2"></td>
                        <td class="year_3"></td>
                        <td class="action"></td>
                    </tr>
                </tbody>
            </table>
                        
        </div>
    </div>
        <div class="d-flex justify-content-center mt-3 mb-2">
            <button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
            <ul class="pagination mb-0"></ul>
            <button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"> </span></button>
        </div>
    </div>
</div>



<!--


<div class="col-lg-12 col-md-12 col-sm-12" id="one_time_cost_plant_equipment" style="display: none;">

        <table id="table_one_plant_equipment" class="table max-width">

            <thead class="table-light">
                <tr>
                    <th>Asset Description</th>
                    <th>Qty</th>
                    <th>Acquisition Cost</th>
                    <th>Total</th>
                    <th>GST</th>
                    <th>Depreciation Method</th>
                    <th>Useful Life(Year)</th>
                    <th>Salvage Value</th>
                    <th>Monthly</th>
                    <th>Yearly 1</th>
                    <th>Yearly 2</th>
                    <th>Yearly 3</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>

            <tfoot class="table-light">
                <tr>    
           
                    <th style="text-align: right;">Total</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
    </div>

-->





<script type="text/javascript">
    var save_method_one; //for save method string
    var table_one;

    $(document).ready(function() {

        //datatables
        table_one = $('#table_one').DataTable({
            responsive: true,
            "processing": true, //Feature control the processing indicator.
            "serverSide": true, //Feature control DataTables' server-side processing mode.
            "order": [], //Initial no order.

            // Load data for the table's content from an Ajax source
            "ajax": {
                "url": "<?php echo site_url('onetimecost/ajax-list') ?>",
                "type": "POST"
            },

            //Set column definition initialisation properties.
            "columnDefs": [{
                "targets": [-1], //last column
                "orderable": false, //set not orderable
            }, ],
            "footerCallback": function(row, data, start, end, display) {
                var api = this.api(),
                    data;
                var numFormat = $.fn.dataTable.render.number('\,', '.').display;
                var response = this.api().ajax.json();
                // Remove the formatting to get integer data for summation
                var intVal = function(i) {
                    return typeof i === 'string' ?
                        i.replace(/[\$,\€,\₹,\£]/g, '') * 1 :
                        typeof i === 'number' ?
                        i : 0;
                };

                // Total over all pages
                total = api
                    .column(2)
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Total over this page
                pageTotal = api
                    .column(2, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(2).footer()).html(
                    response['currency'] + numFormat(pageTotal)
                );

                pageTotal = api
                    .column(4, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);


                pageTotal = api
                    .column(3, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(3).footer()).html(
                    response['currency'] + numFormat(pageTotal)
                );
            }
        });

        //datatables for One time cost land and buildings
        table_one_land_buildings = $('#table_one_land_buildings').DataTable({
            responsive: true,
            "processing": true, //Feature control the processing indicator.
            "serverSide": true, //Feature control DataTables' server-side processing mode.
            "order": [], //Initial no order.

            // Load data for the table's content from an Ajax source
            "ajax": {
                "url": "<?php echo site_url('onetimecost/ajax-list-land-buildings') ?>",
                "type": "POST"
            },

            //Set column definition initialisation properties.
            "columnDefs": [{
                "targets": [-1], //last column
                "orderable": false, //set not orderable
            }, ],
            "footerCallback": function(row, data, start, end, display) {
                var api = this.api(),
                    data;
                var numFormat = $.fn.dataTable.render.number('\,', '.').display;
                var response = this.api().ajax.json();
                // Remove the formatting to get integer data for summation
                var intVal = function(i) {
                    return typeof i === 'string' ?
                        i.replace(/[\$,\€,\₹,\£]/g, '') * 1 :
                        typeof i === 'number' ?
                        i : 0;
                };

                // Total over this page
                purchaseCost = api
                    .column(2, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(2).footer()).html(
                    response['currency'] + numFormat(purchaseCost)
                );





                landValue = api
                    .column(3, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(3).footer()).html(
                    response['currency'] + numFormat(landValue)
                );





                building_depreciable_basis = api
                    .column(4, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(4).footer()).html(
                    response['currency'] + numFormat(building_depreciable_basis)
                );



                gstTotal = api
                    .column(5, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(5).footer()).html(
                    response['currency'] + numFormat(gstTotal)
                );



                value_depreciate = api
                    .column(6, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(6).footer()).html(
                    response['currency'] + numFormat(value_depreciate)
                );




                monthlyTotal = api
                    .column(8, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(8).footer()).html(
                    response['currency'] + numFormat(monthlyTotal)
                );



                year1Total = api
                    .column(9, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(9).footer()).html(
                    response['currency'] + numFormat(year1Total)
                );

                year2Total = api
                    .column(10, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(10).footer()).html(
                    response['currency'] + numFormat(year2Total)
                );

                year3Total = api
                    .column(11, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(11).footer()).html(
                    response['currency'] + numFormat(year3Total)
                );

                pageTotal = api
                    .column(12, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

            }
        });

        //datatables for One time cost Plant
        table_one_plant_equipment = $('#table_one_plant_equipment').DataTable({
            responsive: true,
            "processing": true, //Feature control the processing indicator.
            "serverSide": true, //Feature control DataTables' server-side processing mode.
            "order": [], //Initial no order.

            // Load data for the table's content from an Ajax source
            "ajax": {
                "url": "<?php echo site_url('onetimecost/ajax-list-plant-equipment') ?>",
                "type": "POST"
            },

            //Set column definition initialisation properties.
            "columnDefs": [{
                "targets": [-1], //last column
                "orderable": false, //set not orderable
            }, ],
            "footerCallback": function(row, data, start, end, display) {
                var api = this.api(),
                    data;
                var numFormat = $.fn.dataTable.render.number('\,', '.').display;
                var response = this.api().ajax.json();
                // Remove the formatting to get integer data for summation
                var intVal = function(i) {
                    return typeof i === 'string' ?
                        i.replace(/[\$,\€,\₹,\£]/g, '') * 1 :
                        typeof i === 'number' ?
                        i : 0;
                };

                // Total over all pages
                total = api
                    .column(2)
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Total over this page
                aquisitionCost = api
                    .column(2, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(2).footer()).html(
                    response['currency'] + numFormat(aquisitionCost)
                );


                pageTotal = api
                    .column(3, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

                // Update footer
                $(api.column(3).footer()).html(
                    response['currency'] + numFormat(pageTotal)
                );

                gstTotal = api
                    .column(4, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(4).footer()).html(
                    response['currency'] + numFormat(gstTotal)
                );

                salvageTotal = api
                    .column(7, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(7).footer()).html(
                    response['currency'] + numFormat(salvageTotal)
                );

                monthlyTotal = api
                    .column(8, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(8).footer()).html(
                    response['currency'] + numFormat(monthlyTotal)
                );

                year1Total = api
                    .column(9, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(9).footer()).html(
                    response['currency'] + numFormat(year1Total)
                );

                year2Total = api
                    .column(10, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(10).footer()).html(
                    response['currency'] + numFormat(year2Total)
                );

                year3Total = api
                    .column(11, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);
                // Update footer
                $(api.column(11).footer()).html(
                    response['currency'] + numFormat(year3Total)
                );

                pageTotal = api
                    .column(12, {
                        page: 'current'
                    })
                    .data()
                    .reduce(function(a, b) {
                        return intVal(a) + intVal(b);
                    }, 0);

            }
        });

        //datepicker
        $('.datepicker').datepicker({
            autoclose: true,
            format: "yyyy-mm-dd",
            todayHighlight: true,
            orientation: "top auto",
            todayBtn: true,
            todayHighlight: true,
        });

    });



    function add_onetimecost() {
        $('#onetimecost_modal').modal('show');
        $('#onetimecoststep1').trigger('click');
        $('#plant_equipment').hide();
        $('#land_buildings').hide();
        $('#general').show();
        //Added By raza 15 april 2020
        var listtext = $("#onetimecoststep1").text();
        var tabtext = $('.moving-tab').text();
        if (tabtext != listtext) {
            $('.moving-tab').text('');
            $('.moving-tab').text(listtext);
        }
        save_method_one = 'add';
        $("label.error").remove();
        $('#form_onetime')[0].reset(); // reset form on modals
        $('.form-group').removeClass('has-error'); // clear error class
        $('.help-block-one').empty(); // clear error string
        $('#modal_form_one').modal('show'); // show bootstrap modal
        $('.modal-title').text('Add One Time Cost'); // Set Title to Bootstrap modal title
    }

    function edit_onetimecost(id) {
        save_method_one = 'update';
        $("label.error").remove();
        $('#form_onetime')[0].reset(); // reset form on modals
        $('.form-group').removeClass('has-error'); // clear error class
        $('.help-block-one').empty(); // clear error string

        //Ajax Load data from ajax
        $.ajax({
            url: "<?php echo site_url('onetimecost/ajax-edit/') ?>" + id,
            type: "GET",
            dataType: "JSON",
            success: function(data) {
                $('#onetimecost_modal').modal('show');


                $('[name="id"]').val(data.id);
                $('[name="one_time_cost_type"]').val(data.one_time_cost);
                if (data.one_time_cost == 'Land_Buildings') {
                    $('#general').hide();
                    $('#plant_equipment').hide();
                    $('#land_buildings').show();
                    $('[name="acquisition_date"]').val(data.purchase_date);
                    $('[name="property_description"]').val(data.description);
                    $('[name="purchase_price"]').val(cur + number_format(data.amount_paid, 0, '.', ','));
                    $('[name="estimated_useful_life"]').val(data.year);
                    $('[name="land_value"]').val(cur + number_format(data.land_value, 0, '.', ','));
                } else if (data.one_time_cost == 'Plant_Equipment') {
                    $('#general').hide();
                    $('#land_buildings').hide();
                    $('#plant_equipment').show();
                    $('[name="asset_description"]').val(data.description);
                    $('[name="qty"]').val(data.qty);
                    $('[name="aquistion_cost"]').val(cur + number_format(data.amount_paid, 0, '.', ','));
                    $('[name="depreciation_method"]').val(data.method);
                    $('[name="useful_life"]').val(data.year);
                    $('[name="salvage_value"]').val(cur + number_format(data.salvage, 0, '.', ','));
                } else {
                    $('#land_buildings').hide();
                    $('#plant_equipment').hide();
                    $('#general').show();
                    $('[name="one_time_cost_description"]').val(data.description);
                    $('[name="amount_paid"]').val(cur + number_format(data.amount_paid, 0, '.', ','));
                }

                $('#onetimeForm').collapse('show')
                //$('#modal_form_one').modal('show'); // show bootstrap modal when complete loaded
                $('.modal-title').text('Edit One Time Cost'); // Set title to Bootstrap modal title
                checkempty();
                $('input').each(function() {
                    var $this = $(this);
                    if ($this.val())
                        $this.addClass('used');
                    else
                        $this.removeClass('used');
                });

            },
            error: function(jqXHR, textStatus, errorThrown) {
                alert('Error get data from ajax');
            }
        });
    }

    function reload_table2() {
        reload_summary();
        table_one.ajax.reload(null, false); //reload datatable ajax
        table_one_land_buildings.ajax.reload(null, false); //reload datatable ajax
        table_one_plant_equipment.ajax.reload(null, false); //reload datatable ajax
    }

    function save_onetimecost() {
        $('#btnSave_one').text('saving...'); //change button text
        $('#btnSave_one').attr('disabled', true); //set button disable
        var url;

        if (save_method_one == 'add') {
            url = "<?php echo site_url('onetimecost/ajax-add') ?>";
        } else {
            url = "<?php echo site_url('onetimecost/ajax-update') ?>";
        }

        // ajax adding data to database
        $.ajax({
            url: url,
            type: "POST",
            data: $('#form_onetime').serialize(),
            dataType: "JSON",
            success: function(data) {
                if (data.status) //if success close modal and reload ajax table
                {

                    if (save_method_one == 'add') {
                        var msg = "One time cost added successfully, <br/> Do you want to add another one time cost???"
                    } else {
                        var msg = "One time cost edited successfully !!! <br/> Do you want to add another one time cost ???"
                    }
                    $('#onetimecost_modal').modal('hide');
                    $('#modalConfirmYesNo').modal('show');

                    $("#lblTitleConfirmYesNo").html("");
                    $("#lblMsgConfirmYesNo").html("<div class='checkmark'>" +
                        "<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 161.2 161.2' enable-background='new 0 0 161.2 161.2' xml:space='preserve'>" +
                        "<path class='path' fill='none' stroke='#7DB0D5' stroke-miterlimit='10' d='M425.9,52.1L425.9,52.1c-2.2-2.6-6-2.6-8.3-0.1l-42.7,46.2l-14.3-16.4" +
                        "c-2.3-2.7-6.2-2.7-8.6-0.1c-1.9,2.1-2,5.6-0.1,7.7l17.6,20.3c0.2,0.3,0.4,0.6,0.6,0.9c1.8,2,4.4,2.5,6.6,1.4c0.7-0.3,1.4-0.8,2-1.5" +
                        "c0.3-0.3,0.5-0.6,0.7-0.9l46.3-50.1C427.7,57.5,427.7,54.2,425.9,52.1z'/>" +
                        "<circle class='path' fill='none' stroke='#7DB0D5' stroke-width='4' stroke-miterlimit='10' cx='80.6' cy='80.6' r='62.1'/>" +
                        "<polyline class='path' fill='none' stroke='#7DB0D5' stroke-width='6' stroke-linecap='round' stroke-miterlimit='10' points='113,52.8,74.1,108.4 48.2,86.4 '/>" +
                        "<circle class='spin' fill='none' stroke='#7DB0D5' stroke-width='4' stroke-miterlimit='10' stroke-dasharray='12.2175,12.2175' cx='80.6' cy='80.6' r='73.9'/>" +
                        "</svg>" +
                        "</div>" +
                        "<p class='alert-box'>" + msg + "</p>");

                    $("#btnYesConfirmYesNo").off('click').click(function() {

                        add_onetimecost();
                        reload_table2();

                        $('#modalConfirmYesNo').modal('hide');
                    });

                    $("#btnNoConfirmYesNo").off('click').click(function() {
                        //$('#modal_form_one').modal('hide');
                        //cancel_one();
                        reload_table2();
                        $('#modalConfirmYesNo').modal('hide');
                        $('#onetimecost_modal').modal('hide');
                    });
                }

                $('#btnSave_one').text('save'); //change button text
                $('#btnSave_one').attr('disabled', false); //set button enable


            },
            error: function(jqXHR, textStatus, errorThrown) {
                alert('Error adding / update data');
                $('#btnSave_one').text('save'); //change button text
                $('#btnSave_one').attr('disabled', false); //set button enable

            }
        });
    }

    function delete_confirmation_onetimecost(id) {
        /*if (confirm("Do you want insert Bill of Materials ??") == true) {
         
         $('.nav a[href="#add_menu1"]').tab('show');
         }else{
         
         $('#markup_on_cost').focus();
         }*/
        $('#modalConfirmYesNo').modal('show');

        $("#lblTitleConfirmYesNo").html("User Confirmation");
        $("#lblMsgConfirmYesNo").html("Are you sure you want to delete this one time cost?");

        $("#btnYesConfirmYesNo").off('click').click(function() {

            delete_onetimecost(id)

            $('#modalConfirmYesNo').modal('hide');
        });

        $("#btnNoConfirmYesNo").off('click').click(function() {


            $('#modalConfirmYesNo').modal('hide');
        });


    }

    function delete_onetimecost(id) {
        //if(confirm('Are you sure delete this data?'))
        //{
        // ajax delete data to database
        $.ajax({
            url: "<?php echo site_url('onetimecost/ajax-delete') ?>" + id,
            type: "POST",
            dataType: "JSON",
            success: function(data) {
                //if success reload ajax table
                $('#modal_form_one').modal('hide');
                reload_table2();
            },
            error: function(jqXHR, textStatus, errorThrown) {
                alert('Error deleting data');
            }
        });

        //}
    }

    // Radio Button 

    $('input[type=radio][name=oneTimeCostType]').change(function() {
        if (this.value === 'default') {
            $('#one_time_cost_land_buildings').hide();
            $('#one_time_cost_plant_equipment').hide();
            $('#one_time_cost').show();
        } else if (this.value === 'land_buildings') {
            $('#one_time_cost').hide();
            $('#one_time_cost_plant_equipment').hide();
            $('#one_time_cost_land_buildings').show();
        } else if (this.value === 'plant_equipment') {
            $('#one_time_cost').hide();
            $('#one_time_cost_land_buildings').hide();
            $('#one_time_cost_plant_equipment').show();
        } else {
            $('#one_time_cost_land_buildings').hide();
            $('#one_time_cost_plant_equipment').hide();
            $('#one_time_cost').show();
        }
    });
</script>